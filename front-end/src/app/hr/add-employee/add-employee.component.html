<div class="container-fluid">
  <div class="row py-3">
    <div class="col-4 d-flex align-items-center">
      <app-time></app-time>
    </div>
    <div class="col-5">
      <div><p class="title header w-50 m-auto">إضافة موظف</p></div>
    </div>
    <div class="col-3 d-flex align-items-center justify-content-end">
      <!-- <app-time></app-time> -->
    </div>
  </div>


  <div class="container-fluid">

    <div class="w-50 m-auto mt-5">
      <div *ngIf="errorform" class="alert alert-danger text-center">
        {{errorMessage}}
      </div>
    </div>

    <form class="mt-5" [formGroup]="form" (ngSubmit)="submitform()">

      <div class="row">
        <div class="col-md-3">
          <div class="form-group">
            <input class="form-control"   placeholder="الإسم"
            [class.is-valid]="form.get('name')?.errors ==null && form.get('name')?.touched"
            formControlName='name' type="text" class="form-control">
            <p *ngIf="form.get('name')?.errors !=null && form.get('name')?.touched"
              class="error mb-0 text-danger">مطلوب</p>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <input class="form-control"   placeholder="كود الموظف"
            [class.is-valid]="form.get('code')?.errors ==null && form.get('code')?.touched"
            formControlName='code' type="number" class="form-control">
            <p *ngIf="form.get('code')?.errors !=null && form.get('code')?.touched"
              class="error mb-0 text-danger">مطلوب</p>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <input class="form-control"   placeholder="المستوى الوظيفي"
            [class.is-valid]="form.get('level')?.errors ==null && form.get('level')?.touched"
            formControlName='level' type="text" class="form-control">
            <p *ngIf="form.get('level')?.errors !=null && form.get('level')?.touched"
              class="error mb-0 text-danger">مطلوب</p>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <input class="form-control"   placeholder="الادارة"
            [class.is-valid]="form.get('department')?.errors ==null && form.get('department')?.touched"
            formControlName='department' type="text" class="form-control">
            <p *ngIf="form.get('department')?.errors !=null && form.get('department')?.touched"
              class="error mb-0 text-danger">مطلوب</p>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <select class="form-control"   (change)="salaryType($event)"
            formControlName='salary_type' type="text" class="form-control">
              <option selected disabled>نوع الراتب</option>
              <option value="ثابت">ثابت</option>
              <option value="متغير">متغير</option>
              <option value="متباين">متباين</option>
            </select>
          </div>
        </div>
        <div class="col-md-3" *ngIf=" salarytype == 'ثابت'|| salarytype == 'متباين'  ">
          <div class="form-group">
            <input class="form-control"   placeholder="الراتب الثابت"
            [class.is-valid]="form.get('fixed_salary')?.errors ==null && form.get('fixed_salary')?.touched"
            formControlName='fixed_salary' type="number" min="0" class="form-control">
            <p *ngIf="form.get('fixed_salary')?.errors !=null && form.get('fixed_salary')?.touched"
              class="error mb-0 text-danger">مطلوب</p>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <select class="form-control"
            formControlName='working_hours' type="text" class="form-control">
              <option selected disabled>عدد ساعات العمل</option>
              <option value="8">8</option>
              <option value="9">9</option>
            </select>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <input class="form-control"   placeholder="البصمة"
            formControlName='acc_no' type="number" min="0" class="form-control">
          </div>
        </div>
      </div>


      <div class="text-center my-3">
        <button [disabled]="form.invalid || form.value.salary_type == 'نوع الراتب' || (salarytype != 'متغير' && form.value.fixed_salary<=0)" class="btn submit my-3">اضافة </button>
      </div>
    </form>


  </div>


</div>
