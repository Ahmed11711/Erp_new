<div class="container-fluid">
  <div class="row py-3">
    <div class="col-4 d-flex align-items-center">
      <!-- <app-time></app-time> -->
    </div>
    <div class="col-5">
      <div><p class="title header w-50 m-auto">عرض سعر 1</p></div>
    </div>
    <div class="col-3 d-flex align-items-center justify-content-end">
      <app-time></app-time>
    </div>
  </div>


  <div class="container-fluid">

    <div class="w-50 m-auto mt-5">
      <div *ngIf="errorform" class="alert alert-danger">
        {{errorMessage}}
      </div>
    </div>

      <div id="capture" class="row m-5 border">
        <div class=" col-md-12 bg-main">
          <div class="d-flex pt-5 justify-content-between align-items-end text-white">
            <h4 class="">#{{id}} Quotation </h4>
            <h4 class="">
              <img width="100px" src="assets/images/logoo.png" alt="">
            </h4>
          </div>
          <hr>
          <div class="d-flex py-4 justify-content-between align-items-center text-white">
            <div>
              <h4> <input type="date" (change)="onDateFromChange($event)" [value]="dateFrom"> : Date </h4>
              <h4> <input type="date" (change)="onDateToChange($event)" [value]="dateTo"> : Valid until </h4>

            </div>
            <div>
              <h4> <input name="quote233" autocomplete="off" [(ngModel)]="quote" class="quote" type="text" placeholder="..........."> : Quote for </h4>
            </div>
          </div>
        </div>

        <div dir="ltr" class="col-md-12 section2">
          <hr style="margin-top: 10rem;">
          <table class="table text-center">
            <thead class="text-white">
              <tr>
                <th style="background-color: #82225e!important">DESCRIPTION</th>
                <th style="background-color: #82225e!important">QUANTITY</th>
                <th style="background-color: #82225e!important">PRICE Before Discount</th>
                <th style="background-color: #82225e!important">PRICE After Discount</th>
                <th style="background-color: #82225e!important">TOTAL After Discount</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let row of rows">
                <td>
                  <input
                    class="form-control text-center"
                    style="border: none;"
                    type="text"
                    [(ngModel)]="row.category_name"
                  />
                </td>
                <td>
                  <input
                    class="form-control text-center"
                    style="border: none;"
                    type="number"
                    [(ngModel)]="row.category_quantity"
                    (input)="updateTotal(row)"
                  />
                </td>
                <td>
                  <input
                    class="form-control text-center"
                    style="border: none;"
                    type="number"
                    [(ngModel)]="row.old_category_price"
                    (input)="updateTotal(row)"
                  />
                </td>
                <td>
                  <input
                    class="form-control text-center"
                    style="border: none;"
                    type="number"
                    [(ngModel)]="row.new_category_price"
                    (input)="updateTotal(row)"
                  />
                </td>
                <td>
                  <p>{{ row.total_price }}</p>
                </td>
              </tr>
            </tbody>
          </table>
          <div class="text-right">
            <button class="btn  mt-3" (click)="addRow()">+</button>

          </div>

          <hr>
        </div>

        <div class="col-md-4">
          <div class="mx-5">
            <div class="d-flex justify-content-between">
              <h3>{{subtotal}}</h3>
              <h3>: Subtotal</h3>
            </div>
            <div class="d-flex justify-content-between" *ngIf="clearTransportation">
              <h3><i (click)="clearTransportationFn()" class="fa-solid fa-xmark color-main mr-2"></i><input name="vat" type="number" min="0" [(ngModel)]="transportation" (keyup)="calc($event)"></h3>
              <h3>: Transportation</h3>
            </div>
            <div class="d-flex justify-content-between" *ngIf="cleardiv">
              <h3><i (click)="clearinp()" class="fa-solid fa-xmark color-main mr-2"></i><input name="vat" id="vat" type="number" min="0" [(ngModel)]="vat" (keyup)="calc($event)"></h3>
              <h3>: VAT</h3>
            </div>
            <hr>
            <div class="d-flex justify-content-between">
              <h1>{{ total }}</h1>
              <h3>: Total</h3>
            </div>
          </div>
        </div>

        <div class="col-md-12 mb-2" dir="ltr" style="text-align: start;">
          <label for="">Note</label>
          <textarea
            class="form-control "
            [(ngModel)]="note"
          ></textarea>
        </div>

        <div class="col-md-12 bank bg-main py-3 text-white">
          <h2 class="foot">Thank you for considering our products. please let us know if you have any questions or if there is anything else we can do to assist you. We look
            forward to working with you soon.
          </h2>
          <div class="row">
            <div class="col-md-4">
              <h2><i class="fa-solid fa-globe"></i>Website</h2>
              <h3>www.magalis-egypt.com</h3>
            </div>
            <div class="col-md-4">
              <h2><i class="fa-solid fa-phone"></i>Telephone</h2>
              <input name="phone" class="form-control" type="text" [(ngModel)]="phone_number">
            </div>
            <div class="col-md-4">
              <h2><i class="fa-solid fa-envelope"></i>Email</h2>
              <input name="email" class="form-control" type="text" [(ngModel)]="email">
            </div>
          </div>

        </div>


      </div>


      <div class="text-center my-3">
        <button class="btn btn-add" (click)="submitform()">{{ !id ? 'اضافة' : 'تعديل'}} </button>
      </div>



  </div>


</div>
