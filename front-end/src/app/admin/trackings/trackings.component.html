<div class="container-fluid">
  <div class="row py-3">
    <div class="col-4 d-flex align-items-center">
      <app-time></app-time>
    </div>
    <div class="col-5">
      <div><p class="title header w-50 m-auto">تتبع</p></div>
    </div>
    <div class="col-3 d-flex align-items-center justify-content-end">
      <!-- <app-time></app-time> -->
    </div>
  </div>

  <div class="container-fluid">

    <form  [formGroup]="form">
      <div class="row mb-2">
        <div class="col-md-2">
          <input class="form-control" type="date" formControlName="created_at">
        </div>
        <div class="col-md-2">
          <select class="form-control" formControlName="user_id">
            <option selected disabled value="0">المستخدم </option>
            <option [value]="elm.id" *ngFor="let elm of userdata" [id]="elm.id">{{elm.name}}</option>
          </select>
        </div>

      </div>
    </form>

    <div class="card shadow-sm mb-4 border-0">

      <div>
        <div class="table-responsive">
          <table class="table table-bordered table-hover text-center mb-0" >
            <thead   class="text-white">
              <tr>
                <th>order</th>
                <th>type</th>
                <th>action</th>
                <th>date</th>
                <th>user</th>
                <th>undo</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let elm of dataList;">
                <td><span style="cursor: pointer;" [routerLink]="['/dashboard/shipping/orderdetails', elm?.order_id]">{{elm?.order_id}}</span> </td>
                <td>{{elm?.type}}</td>
                <td>{{elm?.action}}</td>
                <td dir="ltr">{{ elm?.created_at | date: 'EEEE, yyyy-MM-dd , hh:mm a' }}</td>
                <td>{{elm?.user.name}}</td>
                <td>
                  <div *ngIf="elm.is_undo === 0 && elm.type && elm?.order.order_status === elm?.order_status">
                    <span [matMenuTriggerFor]="menu" style="cursor: pointer;">
                      <mat-icon>more_vert</mat-icon>
                    </span>
                    <mat-menu #menu="matMenu">
                        <button mat-menu-item (click)="undo(elm?.id)">
                          <span>تراجع</span>
                        </button>
                    </mat-menu>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

  </div>

  <div class="text-center mt-5">
    <mat-paginator #paginator
      class="demo-paginator"
      [length]="length"
      showFirstLastButtons
      (page)="onPageChange($event)"
      [pageSizeOptions]="pageSizeOptions"
      aria-label="Select page">
    </mat-paginator>
  </div>


</div>
