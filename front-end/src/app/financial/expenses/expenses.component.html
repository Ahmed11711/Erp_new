<div class="container-fluid">
  <div class="row py-3">
    <div class="col-4 d-flex align-items-center">
      <app-time></app-time>
    </div>
    <div class="col-5">
      <div><p class="title header w-50 m-auto">المصروفات
      </p></div>
    </div>
    <div class="col-3 d-flex align-items-center justify-content-end">
      <!-- <app-time></app-time> -->
    </div>
  </div>


  <div class="container-fluid">


    <form class="my-5" [formGroup]="form">
      <div class="row">
        <div class="col-md-2">
          <label for="">من تاريخ</label>
          <input formControlName="start" class="form-control" type="date" (change)="onDateFromChange($event)" [value]="dateFrom">
        </div>
        <div class="col-md-2">
          <label for="">الى تاريخ</label>
          <input formControlName="end" class="form-control" type="date" (change)="onDateToChange($event)" [value]="dateTo">
        </div>
        <div class="col-md-2 d-flex align-items-end">
          <button class="btn" (click)="resetInp()"><i class="fa-solid fa-rotate-right"></i></button>
        </div>
      </div>
    </form>


    <table class="table w-75 m-auto text-center">
      <thead class="bg-dark text-white">
        <th>رقم المصروف</th>
        <th>نوع المصروف</th>
        <th>فئة المصروف</th>
        <th>المبلغ</th>
        <th>الخزينة </th>
        <th>التاريخ</th>
        <th>-</th>
      </thead>
      <tbody>
        <ng-container *ngFor="let elm of data" >
          <tr *ngIf="elm?.status != 1" [class]="status(elm.status)">
            <td>{{elm.expense_number}}</td>
            <td>{{elm.expense_type}}</td>
            <td>{{elm?.kind?.expense_kind}}</td>
            <td dir="ltr">{{elm.amount | customNumber}}</td>
            <td>{{elm.bank.name}}</td>
            <td>{{elm.created_at}}</td>
            <td>
              <span [matMenuTriggerFor]="menu" style="cursor: pointer;">
                <mat-icon>more_vert</mat-icon>
              </span>
              <mat-menu #menu="matMenu">
                <button mat-menu-item [routerLink]="['/dashboard/financial/expense_details',elm.id]">
                  <span>تفاصيل</span>
                </button>
                <button *ngIf="elm?.status != 1" mat-menu-item [routerLink]="['/dashboard/financial/editexpense', elm.id]">
                  <span>تعديل</span>
                </button>
                <button mat-menu-item (click)="deleteData(elm.id)" *ngIf="elm?.status != 1">
                  <span>حذف</span>
                </button>
              </mat-menu>
            </td>
          </tr>
        </ng-container>
      </tbody>
    </table>

    <div class="container mt-4">
      <mat-paginator #paginator
      class="demo-paginator"
      [length]="length"
      showFirstLastButtons
      (page)="onPageChange($event)"
      [pageSizeOptions]="pageSizeOptions"
      aria-label="Select page">
    </mat-paginator>
    </div>

</div>
