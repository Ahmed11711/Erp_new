<div class="container-fluid">
  <div class="row py-3">
    <div class="col-4 d-flex align-items-center">
      <app-time></app-time>
    </div>
    <div class="col-5">
      <div><p class="title header"> البنوك والخزينه ووسائل الدفع</p></div>
    </div>
    <div class="col-3 text-right d-flex align-items-center justify-content-end">
      <div><i class="fa-solid fa-plus p-2" (click)="openDialog()"></i></div>
    </div>
  </div>

  <div class="container">
    <table class="table table-bordered table-hover text-center">
      <thead class="bg-dark text-white">
        <tr>
          <th scope="col">الاسم</th>
          <th scope="col">النوع</th>
          <th scope="col">الرصيد</th>
          <th scope="col">الاستخدام</th>
          <th scope="col">الاصل</th>
          <th scope="col"></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let bank of banks">
          <td class="text-center">{{bank.name}}</td>
          <td>{{bank.type}}</td>
          <td dir="ltr">{{bank.balance | customNumber}}</td>
          <td>{{bank.usage}}</td>
          <td>{{bank.asset_name}}</td>
          <td>
            <span [matMenuTriggerFor]="menu" style="cursor: pointer;">
              <mat-icon>more_vert</mat-icon>
            </span>
          <mat-menu #menu="matMenu">
            <button mat-menu-item [routerLink]="['/dashboard/financial/bank_details', bank?.id]" *ngIf="user == 'Admin' || user == 'Account Management' || user == 'Logistics Specialist'">
              <span>كشف حساب</span>
            </button>
            <button mat-menu-item *ngIf="user == 'Admin'" (click)="openDialog(bank)">
              <span>تعديل البيانات</span>
            </button>
            <button mat-menu-item *ngIf="user == 'Admin' || user == 'Account Management' || user == 'Logistics Specialist'" (click)="depositBank(bank.id)">
              <span>ايداع</span>
            </button>
            <button mat-menu-item *ngIf="user == 'Admin' || user == 'Account Management' || user == 'Logistics Specialist'" (click)="withDrawBank(bank.id)">
              <span>سحب</span>
            </button>
            <button mat-menu-item *ngIf="user == 'Admin' || user == 'Account Management' || user == 'Logistics Specialist'" (click)="transferMoney(bank.id , bank.name)">
              <span>تحويل</span>
            </button>
            <button mat-menu-item *ngIf="user == 'Admin'" (click)="editBankBalance(bank.id)">
              <span>تعديل الرصيد</span>
            </button>
          </mat-menu>
        </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
