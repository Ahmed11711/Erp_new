<div class="container">
  <h1 mat-dialog-title class="text-center">تفاصيل العهدة</h1>
  <div mat-dialog-content>

    <div dir="ltr" class="col-md-12 section2">
      <table class="table text-center">
        <thead class="text-white">
          <tr>
            <th></th>
            <th>بواسطة</th>
            <th>المبلغ</th>
            <th>البيان</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let row of rows; let i = index">
            <td><i class="fa-solid fa-trash text-danger" (click)="deleteRow(row.id, i)"></i></td>
            <td>{{row?.user?.name}}</td>
            <td>
              <input
                class="form-control text-center"
                style="border: none;"
                type="number"
                [(ngModel)]="row.amount"
              />
            </td>
            <td>
              <input
                class="form-control text-center"
                style="border: none;"
                type="text"
                [(ngModel)]="row.description"
              />
            </td>
          </tr>
        </tbody>
        <tfoot>
          <tr>
            <td></td>
            <td></td>
            <td>{{totalAmount ?? 0 | customNumber}}</td>
            <td></td>
          </tr>
        </tfoot>
      </table>
      <div class="text-right">
        <button class="btn " (click)="addRow()">+</button>
      </div>

      <hr>
    </div>

    <div class="d-flex justify-content-center py-2">
      <a mat-button (click)="onCloseClick()" class="btn btn-danger mx-2">الغاء </a>
      <button [disabled]="checkUpdate()" class="btn btn-success" (click)="save()">حفظ</button>

    </div>

  </div>
</div>
